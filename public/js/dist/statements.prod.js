"use strict";function state(t){return{network:t.network}}function convertAllStatments(t){var e=[],n=[];for(i in t){t[i].id=i,t[i].label=t[i].text,e.push(t[i]);var o=t[i],a=o.parents,r=o.kids;a.forEach(function(t){n.push({from:t,to:i})}),r.forEach(function(t){n.push({from:i,to:t})})}data={nodes:e,edges:n},console.log(data),createMap(data)}function createMap(t){var e=document.getElementById("mynetwork"),n=new vis.Network(e,t,{nodes:{color:{border:"blue",background:"white"},shape:"box",fixed:!1,font:"12px arial blue",scaling:{label:!0},margin:4,shadow:!0,widthConstraint:150}});n.on("hold",function(t){console.log("hold"),console.dir(t),showStatementEditor(t.event.center)}),console.log(state({network:n}))}function createNode(e){var n;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:n=axios.put("http://ouri-digital-agent.cf/ibc/app/אורי/".concat(contractId,"/create_statement"),{name:"create_statement",values:{parents:[],text:e,tags:["test"]}}),console.log(n);case 2:case"end":return t.stop()}})}function showStatementEditor(t){console.log(t);var e=document.querySelector("#showStatementEditor");e.style.left="".concat(t.x,"px"),e.style.top="".concat(t.y,"px"),e.style.display="block"}function hideEditStatement(){document.querySelector("#showStatementEditor").style.display="none"}function updateStatement(t){t.preventDefault();try{var e=t.target.children.text.value;e&&(createNode(e),t.target.reset())}catch(t){console.error(t)}}!function(){var e,n;regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(axios.post("http://ouri-digital-agent.cf/ibc/app/אורי/".concat(contractId,"/get_statements"),{name:"get_statements",values:{parent:[]}}));case 2:e=t.sent,n=e.data,console.log(n),convertAllStatments(n);case 6:case"end":return t.stop()}})}();
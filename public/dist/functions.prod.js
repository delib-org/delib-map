"use strict";function handleUpdate(e){e.preventDefault();var n=document.getElementById("nodeName").value,t=editForm.dataset.nodeId;data.nodes.updateOnly({id:t,label:n}),document.getElementById("nodeName").value="",editBox.style.display="none";var o=data.nodes.get(t),d=getMapId();socket.emit("node update",{mapId:d,updatedNode:o})}function closeEditBox(e){e.stopPropagation();var n=document.getElementById("linkFavIcon");n.innerText;n.innerText="link",linkFav.style.background="var(--gray2)",console.dir(setConnectNodes({isClear:!0})),editBox.style.display="none"}function createNode(e,n){fetch("/maps/createNode",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({mapId:e,node:n})}).catch(function(e){return console.error(e)})}function connectNodesEvent(e){e.stopPropagation();var n=document.getElementById("linkFavIcon");"link"==n.innerText?(n.innerText="link_off",linkFav.style.background="var(--accent)",console.dir(setConnectNodes({connectNew:!0}))):(n.innerText="link",linkFav.style.background="var(--gray2)",console.dir(setConnectNodes({connectNew:!1})))}function deleteEdgeFn(e){e.stopPropagation();var n=deleteEdge.dataset.edgeId,t=getMapId();deleteEdge.style.display="none",socket.emit("edge delete",{mapId:t,edgeId:n})}function getMapId(){return new URLSearchParams(window.location.search).get("mapId")}